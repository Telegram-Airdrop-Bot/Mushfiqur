"use strict";(()=>{var a={};a.id=757,a.ids=[220,757],a.modules={156:a=>{a.exports=require("next/dist/shared/lib/utils")},361:a=>{a.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},598:a=>{a.exports=import("@radix-ui/react-label")},802:a=>{a.exports=import("clsx")},1025:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{B:()=>r});var e=c(8732),f=c(2015),g=c(3718),h=c(8326),i=c(524),j=c(3431),k=c(3756),l=c(7878),m=c(4600),n=c(9470),o=c(3872),p=c(37),q=a([h,i,j,k,l,m,n]);function r(){let[a,b]=(0,f.useState)([]),[c,d]=(0,f.useState)([]),[q,r]=(0,f.useState)(!0),[s,t]=(0,f.useState)(null),[u,v]=(0,f.useState)({}),[w,x]=(0,f.useState)(null),{toast:y}=(0,o.dj)(),z=async(c,d,e)=>{try{let{error:f}=await g.N.from("reviews").update({[d]:e}).eq("id",c);if(f)throw f;b(a.map(a=>a.id===c?{...a,[d]:e}:a)),y({title:"Success",description:`Review ${"is_approved"===d?"approval":"featured"} status updated`})}catch(a){y({title:"Error",description:"Failed to update review status",variant:"destructive"})}},A=()=>{t(null),v({})},B=async c=>{try{let{error:d}=await g.N.from("reviews").update({reviewer_name:u.reviewer_name,rating:u.rating,review_text:u.review_text,updated_at:new Date().toISOString()}).eq("id",c);if(d)throw d;b(a.map(a=>a.id===c?{...a,reviewer_name:u.reviewer_name||a.reviewer_name,rating:u.rating||a.rating,review_text:u.review_text||a.review_text}:a)),t(null),v({}),y({title:"Success",description:"Review updated successfully"})}catch(a){y({title:"Error",description:"Failed to update review",variant:"destructive"})}},C=async c=>{if(confirm("Are you sure you want to delete this review?"))try{let{error:d}=await g.N.from("reviews").delete().eq("id",c);if(d)throw d;b(a.filter(a=>a.id!==c)),y({title:"Success",description:"Review deleted successfully"})}catch(a){y({title:"Error",description:"Failed to delete review",variant:"destructive"})}},D=(a,b=!1,c)=>(0,e.jsx)("div",{className:"flex",children:[1,2,3,4,5].map(d=>(0,e.jsx)("button",{type:"button",disabled:!b,onClick:()=>b&&c&&c(d),className:`h-4 w-4 transition-colors ${b?"cursor-pointer hover:scale-110":"cursor-default"}`,children:(0,e.jsx)(p.FEq,{className:`h-4 w-4 ${d<=a?"text-yellow-400 fill-current":"text-gray-300"}`})},d))});return q?(0,e.jsx)("div",{className:"text-center py-8",children:"Loading reviews..."}):(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("h2",{className:"text-2xl font-bold",children:"Reviews Management"}),(0,e.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Total Reviews: ",a.length," | Approved: ",a.filter(a=>a.is_approved).length," | Pending: ",a.filter(a=>!a.is_approved).length," | Featured: ",a.filter(a=>a.is_featured).length]})]}),(0,e.jsx)("div",{className:"grid gap-4",children:a.map(a=>{var b;let d=(b=a.order_id)?c.find(a=>a.id===b):null,f=s===a.id;return(0,e.jsxs)(h.Zp,{children:[(0,e.jsx)(h.aR,{children:(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{children:[f?(0,e.jsx)(m.p,{value:u.reviewer_name||a.reviewer_name,onChange:a=>v(b=>({...b,reviewer_name:a.target.value})),className:"text-lg font-semibold"}):(0,e.jsx)(h.ZB,{className:"text-lg",children:a.reviewer_name}),(0,e.jsx)("div",{className:"flex items-center gap-2 mt-1",children:f?(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[D(u.rating||a.rating,!0,a=>v(b=>({...b,rating:a}))),(0,e.jsxs)("span",{className:"text-sm text-muted-foreground",children:[u.rating||a.rating,"/5"]})]}):(0,e.jsxs)(e.Fragment,{children:[D(a.rating),(0,e.jsxs)("span",{className:"text-sm text-muted-foreground",children:[a.rating,"/5"]})]})})]}),(0,e.jsxs)("div",{className:"flex gap-2",children:[a.is_approved?(0,e.jsxs)(j.E,{variant:"default",children:[(0,e.jsx)(p.rAV,{className:"mr-1 h-3 w-3"}),"Approved"]}):(0,e.jsxs)(j.E,{variant:"secondary",children:[(0,e.jsx)(p.Jpz,{className:"mr-1 h-3 w-3"}),"Pending"]}),a.is_featured&&(0,e.jsxs)(j.E,{variant:"default",children:[(0,e.jsx)(p.FEq,{className:"mr-1 h-3 w-3"}),"Featured"]})]})]})}),(0,e.jsx)(h.Wu,{children:(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Email:"})," ",a.reviewer_email]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Date:"})," ",new Date(a.created_at).toLocaleDateString()]})]}),d&&(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(p.lPX,{className:"h-4 w-4 text-muted-foreground"}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Order:"})," ",d.service_type]}),(0,e.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Status: ",d.status," | ",new Date(d.created_at).toLocaleDateString()]})]}),(0,e.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>x(w===a.id?null:a.id),children:(0,e.jsx)(p.kU3,{className:"h-4 w-4"})})]})]}),w===a.id&&d&&(0,e.jsxs)("div",{className:"p-3 bg-muted/30 rounded-md border-l-4 border-primary",children:[(0,e.jsx)("h4",{className:"font-semibold mb-2",children:"Order Details"}),(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Customer:"})," ",d.customer_name]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Service:"})," ",d.service_type]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Status:"})," ",d.status]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Order Date:"})," ",new Date(d.created_at).toLocaleDateString()]})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{children:(0,e.jsx)("strong",{children:"Review:"})}),f?(0,e.jsx)(n.T,{value:u.review_text||a.review_text,onChange:a=>v(b=>({...b,review_text:a.target.value})),className:"mt-1 min-h-[100px]"}):(0,e.jsx)("p",{className:"text-sm text-muted-foreground mt-1 p-3 bg-muted rounded",children:a.review_text})]}),(0,e.jsxs)("div",{className:"flex items-center gap-6 pt-4 border-t",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)(k.d,{id:`approved-${a.id}`,checked:a.is_approved,onCheckedChange:b=>z(a.id,"is_approved",b)}),(0,e.jsx)(l.J,{htmlFor:`approved-${a.id}`,children:"Approved"})]}),(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)(k.d,{id:`featured-${a.id}`,checked:a.is_featured,onCheckedChange:b=>z(a.id,"is_featured",b),disabled:!a.is_approved}),(0,e.jsx)(l.J,{htmlFor:`featured-${a.id}`,children:"Featured"})]}),f?(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsxs)(i.$,{variant:"default",size:"sm",onClick:()=>B(a.id),children:[(0,e.jsx)(p.eMP,{className:"h-4 w-4 mr-1"}),"Save"]}),(0,e.jsxs)(i.$,{variant:"outline",size:"sm",onClick:A,children:[(0,e.jsx)(p.X,{className:"h-4 w-4 mr-1"}),"Cancel"]})]}):(0,e.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>{t(a.id),v({reviewer_name:a.reviewer_name,rating:a.rating,review_text:a.review_text})},children:[(0,e.jsx)(p.W7n,{className:"h-4 w-4 mr-1"}),"Edit"]}),(0,e.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>C(a.id),children:(0,e.jsx)(p.TBR,{className:"h-4 w-4"})})]})]})})]},a.id)})}),0===a.length&&(0,e.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"No reviews found."})]})}[h,i,j,k,l,m,n]=q.then?(await q)():q,d()}catch(a){d(a)}})},1322:a=>{a.exports=require("next/dist/shared/lib/router/utils/format-url")},1984:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{Y:()=>t});var e=c(8732),f=c(2015),g=c(3718),h=c(8326),i=c(524),j=c(4600),k=c(9470),l=c(7878),m=c(3756),n=c(3431),o=c(9180),p=c(3872),q=c(37),r=c(8510),s=a([h,i,j,k,l,m,n,o,r]);function t(){let[a,b]=(0,f.useState)([]),[c,d]=(0,f.useState)(!0),[s,t]=(0,f.useState)(null),[u,v]=(0,f.useState)(!1),[w,x]=(0,f.useState)("all"),[y,z]=(0,f.useState)({}),[A,B]=(0,f.useState)(!1),{toast:C}=(0,p.dj)(),D=[{id:"all",label:"All Categories"},{id:"telegram",label:"Telegram Bots"},{id:"miniapp",label:"Mini Apps"},{id:"react",label:"React.js"},{id:"discord",label:"Discord Bots"},{id:"trading",label:"Trading Bots"},{id:"scraping",label:"Web Scraping"},{id:"ai",label:"AI Bots"},{id:"automation",label:"Automation"}],E=a.filter(a=>a.is_featured),F=a.filter(a=>!a.is_featured),G="all"===w?E:E.filter(a=>a.category===w),H="all"===w?F:F.filter(a=>a.category===w),I=async()=>{try{d(!0);let{data:a,error:c}=await g.N.from("projects").select("*").order("sort_order",{ascending:!0});if(c)throw c;b(a||[])}catch(a){C({title:"Error",description:"Failed to fetch projects",variant:"destructive"})}finally{d(!1)}},J=a=>{try{return new URL(a),!0}catch{return!1}},K=async a=>{try{return B(!0),new FormData().append("image",a),await new Promise(a=>setTimeout(a,1e3)),`https://via.placeholder.com/400x300/2563eb/ffffff?text=${encodeURIComponent(a.name)}`}catch(a){throw Error("Failed to upload image")}finally{B(!1)}},L=async a=>{try{let b=(a=>{let b={};return a.title?.trim()?a.title.length<3&&(b.title="Title must be at least 3 characters"):b.title="Title is required",a.description?.trim()?a.description.length<10&&(b.description="Description must be at least 10 characters"):b.description="Description is required",a.category||(b.category="Category is required"),a.demo_url&&!J(a.demo_url)&&(b.demo_url="Please enter a valid demo URL"),a.github_url&&!J(a.github_url)&&(b.github_url="Please enter a valid GitHub URL"),a.image_url&&!J(a.image_url)&&(b.image_url="Please enter a valid image URL"),b})(a);if(Object.keys(b).length>0){z(b),C({title:"Validation Error",description:"Please fix the errors in the form",variant:"destructive"});return}if(z({}),a.id){let{error:b}=await g.N.from("projects").update({...a,updated_at:new Date().toISOString()}).eq("id",a.id);if(b)throw b;C({title:"Success",description:"Project updated successfully"}),t(null)}else{let{error:b}=await g.N.from("projects").insert({...a,updated_at:new Date().toISOString()});if(b)throw b;C({title:"Success",description:"Project created successfully"}),v(!1)}await I()}catch(a){C({title:"Error",description:"Failed to save project",variant:"destructive"})}},M=async(a,b)=>{try{let{error:c}=await g.N.from("projects").update({is_featured:b,updated_at:new Date().toISOString()}).eq("id",a);if(c)throw c;C({title:"Success",description:`Project ${b?"marked as":"removed from"} featured`}),await I()}catch(a){C({title:"Error",description:"Failed to update project",variant:"destructive"})}},N=async(a,b)=>{try{let{error:c}=await g.N.from("projects").update({is_featured:b,updated_at:new Date().toISOString()}).in("id",a);if(c)throw c;C({title:"Success",description:`${a.length} projects ${b?"marked as":"removed from"} featured`}),await I()}catch(a){C({title:"Error",description:"Failed to update projects",variant:"destructive"})}},O=async a=>{if(confirm("Are you sure you want to delete this project? This action cannot be undone."))try{let{error:b}=await g.N.from("projects").delete().eq("id",a);if(b)throw b;C({title:"Success",description:"Project deleted successfully"}),await I()}catch(a){C({title:"Error",description:"Failed to delete project",variant:"destructive"})}},P=async(a,b)=>{try{let{error:c}=await g.N.from("projects").update({sort_order:b,updated_at:new Date().toISOString()}).eq("id",a);if(c)throw c;await I()}catch(a){C({title:"Error",description:"Failed to update sort order",variant:"destructive"})}},Q=({project:a,onSave:b,onCancel:c})=>{let[d,g]=(0,f.useState)(a),[p,s]=(0,f.useState)(""),[t,u]=(0,f.useState)(null),v=()=>{p.trim()&&(g({...d,technologies:[...d.technologies||[],p.trim()]}),s(""))},w=async a=>{let b=a.target.files?.[0];if(b){u(b);try{let a=await K(b);g({...d,image_url:a})}catch(a){C({title:"Upload Error",description:"Failed to upload image",variant:"destructive"})}}};return(0,e.jsxs)(h.Zp,{children:[(0,e.jsx)(h.aR,{children:(0,e.jsx)(h.ZB,{children:a.id?"Edit Project":"Create New Project"})}),(0,e.jsx)(h.Wu,{children:(0,e.jsxs)("form",{onSubmit:a=>{a.preventDefault(),b(d)},className:"space-y-4",children:[(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(l.J,{htmlFor:"title",children:"Title *"}),(0,e.jsx)(j.p,{id:"title",value:d.title,onChange:a=>g({...d,title:a.target.value}),placeholder:"Project title",required:!0,className:y.title?"border-red-500":""}),y.title&&(0,e.jsxs)(r.Fc,{variant:"destructive",className:"py-2",children:[(0,e.jsx)(q.RIJ,{className:"h-4 w-4"}),(0,e.jsx)(r.TN,{children:y.title})]})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(l.J,{htmlFor:"category",children:"Category *"}),(0,e.jsxs)(o.l6,{value:d.category,onValueChange:a=>g({...d,category:a}),children:[(0,e.jsx)(o.bq,{className:y.category?"border-red-500":"",children:(0,e.jsx)(o.yv,{placeholder:"Select a category"})}),(0,e.jsx)(o.gC,{children:D.slice(1).map(a=>(0,e.jsx)(o.eb,{value:a.id,children:a.label},a.id))})]}),y.category&&(0,e.jsxs)(r.Fc,{variant:"destructive",className:"py-2",children:[(0,e.jsx)(q.RIJ,{className:"h-4 w-4"}),(0,e.jsx)(r.TN,{children:y.category})]})]})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(l.J,{htmlFor:"description",children:"Description *"}),(0,e.jsx)(k.T,{id:"description",value:d.description,onChange:a=>g({...d,description:a.target.value}),placeholder:"Project description",rows:3,className:y.description?"border-red-500":""}),y.description&&(0,e.jsxs)(r.Fc,{variant:"destructive",className:"py-2",children:[(0,e.jsx)(q.RIJ,{className:"h-4 w-4"}),(0,e.jsx)(r.TN,{children:y.description})]})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(l.J,{children:"Project Image"}),(0,e.jsxs)("div",{className:"flex items-center gap-4",children:[(0,e.jsx)("div",{className:"flex-1",children:(0,e.jsx)(j.p,{type:"file",accept:"image/*",onChange:w,disabled:A,className:"cursor-pointer",id:"image-upload"})}),(0,e.jsxs)(i.$,{type:"button",variant:"outline",size:"sm",onClick:()=>document.getElementById("image-upload")?.click(),disabled:A,children:[A?(0,e.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}):(0,e.jsx)(q._OO,{className:"h-4 w-4"}),A?"Uploading...":"Upload"]})]}),d.image_url&&(0,e.jsx)("div",{className:"mt-3",children:(0,e.jsxs)("div",{className:"relative inline-block",children:[(0,e.jsx)("img",{src:d.image_url,alt:"Preview",className:"w-32 h-24 object-cover rounded-lg border"}),(0,e.jsx)(i.$,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 p-0",onClick:()=>g({...d,image_url:""}),children:(0,e.jsx)(q.X,{className:"h-3 w-3"})})]})}),y.image_url&&(0,e.jsxs)(r.Fc,{variant:"destructive",className:"py-2",children:[(0,e.jsx)(q.RIJ,{className:"h-4 w-4"}),(0,e.jsx)(r.TN,{children:y.image_url})]})]}),(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(l.J,{htmlFor:"github_url",children:"GitHub URL"}),(0,e.jsx)(j.p,{id:"github_url",value:d.github_url,onChange:a=>g({...d,github_url:a.target.value}),placeholder:"GitHub repository URL",className:y.github_url?"border-red-500":""}),y.github_url&&(0,e.jsxs)(r.Fc,{variant:"destructive",className:"py-2",children:[(0,e.jsx)(q.RIJ,{className:"h-4 w-4"}),(0,e.jsx)(r.TN,{children:y.github_url})]})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(l.J,{htmlFor:"demo_url",children:"Demo URL"}),(0,e.jsx)(j.p,{id:"demo_url",value:d.demo_url,onChange:a=>g({...d,demo_url:a.target.value}),placeholder:"Live demo URL",className:y.demo_url?"border-red-500":""}),y.demo_url&&(0,e.jsxs)(r.Fc,{variant:"destructive",className:"py-2",children:[(0,e.jsx)(q.RIJ,{className:"h-4 w-4"}),(0,e.jsx)(r.TN,{children:y.demo_url})]})]})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(l.J,{children:"Technologies"}),(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsx)(j.p,{value:p,onChange:a=>s(a.target.value),placeholder:"Add technology",onKeyPress:a=>"Enter"===a.key&&(a.preventDefault(),v())}),(0,e.jsx)(i.$,{type:"button",onClick:v,disabled:!p.trim(),children:"Add"})]}),(0,e.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:d.technologies?.map((a,b)=>(0,e.jsxs)(n.E,{variant:"secondary",className:"flex items-center gap-1",children:[a,(0,e.jsx)(i.$,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>{g({...d,technologies:d.technologies?.filter((a,c)=>c!==b)||[]})},children:(0,e.jsx)(q.X,{className:"h-3 w-3"})})]},b))})]}),(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)(m.d,{id:"featured",checked:d.is_featured,onCheckedChange:a=>g({...d,is_featured:a})}),(0,e.jsx)(l.J,{htmlFor:"featured",children:"Mark as Featured Project"})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(l.J,{htmlFor:"sort_order",children:"Sort Order"}),(0,e.jsx)(j.p,{id:"sort_order",type:"number",value:d.sort_order,onChange:a=>g({...d,sort_order:parseInt(a.target.value)||0}),placeholder:"0",min:"0"})]}),(0,e.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,e.jsxs)(i.$,{type:"submit",className:"flex-1",children:[(0,e.jsx)(q.eMP,{className:"mr-2 h-4 w-4"}),a.id?"Update Project":"Create Project"]}),(0,e.jsxs)(i.$,{type:"button",variant:"outline",onClick:c,children:[(0,e.jsx)(q.X,{className:"mr-2 h-4 w-4"}),"Cancel"]})]})]})})]})};return c?(0,e.jsx)("div",{className:"text-center py-8",children:"Loading projects..."}):(0,e.jsxs)("div",{className:"space-y-8",children:[(0,e.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-muted/30 rounded-lg",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(q.dJT,{className:"h-5 w-5 text-muted-foreground"}),(0,e.jsx)(l.J,{htmlFor:"category-filter",children:"Filter by Category:"})]}),(0,e.jsxs)(o.l6,{value:w,onValueChange:x,children:[(0,e.jsx)(o.bq,{className:"w-64",children:(0,e.jsx)(o.yv,{placeholder:"Select category"})}),(0,e.jsx)(o.gC,{children:D.map(a=>(0,e.jsx)(o.eb,{value:a.id,children:a.label},a.id))})]}),(0,e.jsx)(n.E,{variant:"secondary",children:"all"===w?`${a.length} total projects`:`${G.length+H.length} projects in ${D.find(a=>a.id===w)?.label}`})]}),(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,e.jsx)(q.FEq,{className:"h-6 w-6 text-yellow-500 fill-current"}),"Featured Projects",(0,e.jsx)(n.E,{className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:E.length})]}),(0,e.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Featured projects appear prominently on the main website"})]}),(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsxs)(i.$,{onClick:()=>v(!0),variant:"outline",children:[(0,e.jsx)(q.FWt,{className:"mr-2 h-4 w-4"}),"Add Featured Project"]}),E.length>0&&(0,e.jsx)(i.$,{onClick:()=>N(E.map(a=>a.id),!1),variant:"outline",className:"text-red-600 border-red-300 hover:bg-red-50",children:"Remove All Featured"})]})]}),0===G.length?(0,e.jsx)(h.Zp,{children:(0,e.jsxs)(h.Wu,{className:"text-center py-12",children:[(0,e.jsx)(q.FEq,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,e.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No Featured Projects"}),(0,e.jsx)("p",{className:"text-muted-foreground mb-4",children:"all"===w?"Featured projects will appear here and be displayed prominently on the main website.":"No featured projects found in the selected category. Try selecting a different category or create a new featured project."}),(0,e.jsxs)(i.$,{onClick:()=>v(!0),children:[(0,e.jsx)(q.FWt,{className:"mr-2 h-4 w-4"}),"Create Featured Project"]})]})}):(0,e.jsx)("div",{className:"grid gap-4",children:G.map((a,b)=>(0,e.jsxs)(h.Zp,{className:"border-2 border-yellow-200 bg-yellow-50/30 hover:shadow-lg transition-shadow",children:[(0,e.jsx)(h.aR,{children:(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsx)("div",{className:"w-10 h-10 rounded-lg bg-yellow-100 flex items-center justify-center",children:(0,e.jsx)("span",{className:"text-yellow-800 font-bold text-lg",children:b+1})}),(0,e.jsxs)("div",{children:[(0,e.jsxs)(h.ZB,{className:"text-lg flex items-center gap-2",children:[(0,e.jsx)(q.FEq,{className:"h-5 w-5 text-yellow-500 fill-current"}),a.title]}),(0,e.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,e.jsx)(n.E,{className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:"Featured"}),a.category&&(0,e.jsx)(n.E,{variant:"outline",children:D.find(b=>b.id===a.category)?.label||a.category})]})]})]}),(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>M(a.id,!1),className:"text-yellow-600 border-yellow-300 hover:bg-yellow-100",children:"Remove Featured"}),(0,e.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>t(a),children:(0,e.jsx)(q.ffu,{className:"h-4 w-4"})}),(0,e.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>O(a.id),className:"text-red-600 border-red-300 hover:bg-red-50",children:(0,e.jsx)(q.TBR,{className:"h-4 w-4"})})]})]})}),(0,e.jsx)(h.Wu,{children:(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsx)("p",{className:"text-sm text-muted-foreground",children:a.description}),a.technologies&&a.technologies.length>0&&(0,e.jsxs)("div",{children:[(0,e.jsx)("strong",{className:"text-sm",children:"Technologies:"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:a.technologies.map((a,b)=>(0,e.jsx)(n.E,{variant:"secondary",className:"text-xs",children:a},b))})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex gap-4",children:[a.github_url&&(0,e.jsxs)("a",{href:a.github_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1 text-sm",children:["GitHub ",(0,e.jsx)(q.GrD,{className:"h-3 w-3"})]}),a.demo_url&&(0,e.jsxs)("a",{href:a.demo_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1 text-sm",children:["Demo ",(0,e.jsx)(q.GrD,{className:"h-3 w-3"})]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(l.J,{htmlFor:`sort-${a.id}`,className:"text-xs text-muted-foreground",children:"Sort Order:"}),(0,e.jsx)(j.p,{id:`sort-${a.id}`,type:"number",value:a.sort_order||0,onChange:b=>P(a.id,parseInt(b.target.value)||0),className:"w-16 h-8 text-xs",min:"0"})]})]})]})})]},a.id))})]}),(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("h2",{className:"text-2xl font-bold",children:"All Projects"}),(0,e.jsxs)(i.$,{onClick:()=>v(!0),variant:"outline",children:[(0,e.jsx)(q.FWt,{className:"mr-2 h-4 w-4"}),"Add Project"]})]}),u&&(0,e.jsx)(Q,{project:{title:"",description:"",image_url:"",technologies:[],github_url:"",demo_url:"",category:"",is_featured:!1,sort_order:0},onSave:L,onCancel:()=>v(!1)}),s&&(0,e.jsx)(Q,{project:s,onSave:L,onCancel:()=>t(null)}),(0,e.jsx)("div",{className:"grid gap-4",children:H.map(a=>(0,e.jsxs)(h.Zp,{children:[(0,e.jsx)(h.aR,{children:(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(h.ZB,{className:"text-lg",children:a.title}),(0,e.jsx)("div",{className:"flex gap-2 mt-2",children:a.category&&(0,e.jsx)(n.E,{variant:"outline",children:D.find(b=>b.id===a.category)?.label||a.category})})]}),(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>M(a.id,!1),className:"text-green-600 border-green-300 hover:bg-green-100",children:[(0,e.jsx)(q.FEq,{className:"h-4 w-4 mr-1"}),"Make Featured"]}),(0,e.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>t(a),children:(0,e.jsx)(q.ffu,{className:"h-4 w-4"})}),(0,e.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>O(a.id),children:(0,e.jsx)(q.TBR,{className:"h-4 w-4"})})]})]})}),(0,e.jsx)(h.Wu,{children:(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Description:"})," ",a.description]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("strong",{children:"Technologies:"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:a.technologies?.map((a,b)=>(0,e.jsx)(n.E,{variant:"secondary",children:a},b))})]}),(0,e.jsxs)("div",{className:"flex gap-4 mt-2",children:[a.github_url&&(0,e.jsxs)("a",{href:a.github_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1",children:["GitHub ",(0,e.jsx)(q.GrD,{className:"h-3 w-3"})]}),a.demo_url&&(0,e.jsxs)("a",{href:a.demo_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1",children:["Demo ",(0,e.jsx)(q.GrD,{className:"h-3 w-3"})]})]})]})})]},a.id))}),0===H.length&&(0,e.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"all"===w?"No regular projects found.":`No regular projects found in ${D.find(a=>a.id===w)?.label}.`})]})]})}[h,i,j,k,l,m,n,o,r]=s.then?(await s)():s,d()}catch(a){d(a)}})},2015:a=>{a.exports=require("react")},2549:a=>{a.exports=import("@radix-ui/react-avatar")},3103:a=>{a.exports=require("next/dist/shared/lib/router/utils/add-path-prefix")},3756:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{d:()=>j});var e=c(8732),f=c(2015),g=c(9812),h=c(101),i=a([g,h]);[g,h]=i.then?(await i)():i;let j=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)(g.Root,{className:(0,h.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...b,ref:c,children:(0,e.jsx)(g.Thumb,{className:(0,h.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));j.displayName=g.Root.displayName,d()}catch(a){d(a)}})},3873:a=>{a.exports=require("path")},3939:a=>{a.exports=require("@supabase/supabase-js")},4820:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{default:()=>s});var e=c(8732),f=c(2015),g=c(3718),h=c(4822),i=c(3872),j=c(524),k=c(1896),l=c(37),m=c(6907),n=c(9805),o=c(1984),p=c(1025),q=c(4928),r=a([j,k,m,n,o,p,q]);function s(){let[a,b]=(0,f.useState)(null),[c,d]=(0,f.useState)(null),[r,s]=(0,f.useState)(!0),t=(0,h.useNavigate)(),{toast:u}=(0,i.dj)(),v=async()=>{await g.N.auth.signOut(),t("/"),u({title:"Signed Out",description:"You have been signed out successfully."})};return r?(0,e.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),(0,e.jsx)("p",{className:"mt-2 text-muted-foreground",children:"Loading admin panel..."})]})}):a&&"admin"===c?(0,e.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-background via-secondary/5 to-background",children:[(0,e.jsx)("header",{className:"border-b bg-background/80 backdrop-blur-sm sticky top-0 z-50",children:(0,e.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(l.ekZ,{className:"h-6 w-6 text-primary"}),(0,e.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Admin Panel"})]}),(0,e.jsxs)("div",{className:"flex items-center gap-4",children:[(0,e.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Welcome, ",a.email]}),(0,e.jsx)(j.$,{variant:"outline",onClick:()=>t("/"),children:"View Site"}),(0,e.jsxs)(j.$,{variant:"outline",onClick:v,children:[(0,e.jsx)(l.nUv,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]})}),(0,e.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,e.jsxs)(k.tU,{defaultValue:"orders",className:"space-y-6",children:[(0,e.jsxs)(k.j7,{className:"grid w-full grid-cols-5",children:[(0,e.jsxs)(k.Xi,{value:"orders",className:"flex items-center gap-2",children:[(0,e.jsx)(l.iUU,{className:"h-4 w-4"}),"Orders"]}),(0,e.jsxs)(k.Xi,{value:"content",className:"flex items-center gap-2",children:[(0,e.jsx)(l.wB_,{className:"h-4 w-4"}),"Content"]}),(0,e.jsxs)(k.Xi,{value:"projects",className:"flex items-center gap-2",children:[(0,e.jsx)(l.FEq,{className:"h-4 w-4"}),"Projects"]}),(0,e.jsxs)(k.Xi,{value:"reviews",className:"flex items-center gap-2",children:[(0,e.jsx)(l.vEG,{className:"h-4 w-4"}),"Reviews"]}),(0,e.jsxs)(k.Xi,{value:"users",className:"flex items-center gap-2",children:[(0,e.jsx)(l.zWC,{className:"h-4 w-4"}),"Users"]})]}),(0,e.jsx)(k.av,{value:"orders",children:(0,e.jsx)(m.L,{})}),(0,e.jsx)(k.av,{value:"content",children:(0,e.jsx)(n.r,{})}),(0,e.jsx)(k.av,{value:"projects",children:(0,e.jsx)(o.Y,{})}),(0,e.jsx)(k.av,{value:"reviews",children:(0,e.jsx)(p.B,{})}),(0,e.jsx)(k.av,{value:"users",children:(0,e.jsx)(q.k,{})})]})})]}):null}[j,k,m,n,o,p,q]=r.then?(await r)():r,d()}catch(a){d(a)}})},4822:a=>{a.exports=require("react-router-dom")},4928:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{k:()=>o});var e=c(8732),f=c(2015),g=c(3718),h=c(8326),i=c(3431),j=c(9180),k=c(6205),l=c(3872),m=c(37),n=a([h,i,j,k]);function o(){let[a,b]=(0,f.useState)([]),[c,d]=(0,f.useState)(!0),{toast:n}=(0,l.dj)(),o=async(c,d)=>{try{await g.N.from("user_roles").delete().eq("user_id",c);let{error:e}=await g.N.from("user_roles").insert([{user_id:c,role:d}]);if(e)throw e;b(a.map(a=>a.user_id===c?{...a,role:d}:a)),n({title:"Success",description:"User role updated successfully"})}catch(a){n({title:"Error",description:"Failed to update user role",variant:"destructive"})}};return c?(0,e.jsx)("div",{className:"text-center py-8",children:"Loading users..."}):(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("h2",{className:"text-2xl font-bold",children:"Users Management"}),(0,e.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Total Users: ",a.length," | Admins: ",a.filter(a=>"admin"===a.role).length," | Users: ",a.filter(a=>"user"===a.role).length]})]}),(0,e.jsx)("div",{className:"grid gap-4",children:a.map(a=>{let b;return(0,e.jsxs)(h.Zp,{children:[(0,e.jsx)(h.aR,{children:(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsxs)(k.eu,{children:[(0,e.jsx)(k.BK,{src:a.avatar_url}),(0,e.jsx)(k.q5,{children:(0,e.jsx)(m.KJW,{className:"h-4 w-4"})})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(h.ZB,{className:"text-lg",children:a.display_name||"No name set"}),(0,e.jsx)("p",{className:"text-sm text-muted-foreground",children:a.email})]})]}),(0,e.jsx)(i.E,{variant:(b=a.role,"admin"===b?"default":"secondary"),children:"admin"===a.role?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(m.ekZ,{className:"mr-1 h-3 w-3"}),"Admin"]}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(m.KJW,{className:"mr-1 h-3 w-3"}),"User"]})})]})}),(0,e.jsx)(h.Wu,{children:(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,e.jsx)("strong",{children:"Joined:"})," ",new Date(a.created_at).toLocaleDateString()]}),(0,e.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,e.jsx)("strong",{children:"User ID:"})," ",a.user_id.slice(0,8),"..."]})]}),(0,e.jsx)("div",{className:"flex items-center gap-4",children:(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("span",{className:"text-sm font-medium",children:"Role:"}),(0,e.jsxs)(j.l6,{value:a.role,onValueChange:b=>o(a.user_id,b),children:[(0,e.jsx)(j.bq,{className:"w-32",children:(0,e.jsx)(j.yv,{})}),(0,e.jsxs)(j.gC,{children:[(0,e.jsx)(j.eb,{value:"user",children:"User"}),(0,e.jsx)(j.eb,{value:"admin",children:"Admin"})]})]})]})})]})})]},a.id)})}),0===a.length&&(0,e.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"No users found."})]})}[h,i,j,k]=n.then?(await n)():n,d()}catch(a){d(a)}})},5952:a=>{a.exports=require("next/dist/shared/lib/router/utils/remove-trailing-slash")},5979:a=>{a.exports=import("tailwind-merge")},6205:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{BK:()=>k,eu:()=>j,q5:()=>l});var e=c(8732),f=c(2015),g=c(2549),h=c(101),i=a([g,h]);[g,h]=i.then?(await i)():i;let j=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)(g.Root,{ref:c,className:(0,h.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...b}));j.displayName=g.Root.displayName;let k=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)(g.Image,{ref:c,className:(0,h.cn)("aspect-square h-full w-full",a),...b}));k.displayName=g.Image.displayName;let l=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)(g.Fallback,{ref:c,className:(0,h.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...b}));l.displayName=g.Fallback.displayName,d()}catch(a){d(a)}})},6439:a=>{a.exports=require("next/dist/shared/lib/no-fallback-error.external")},6713:a=>{a.exports=require("next/dist/shared/lib/router/utils/is-bot")},6907:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{L:()=>r});var e=c(8732),f=c(2015),g=c(8326),h=c(524),i=c(3431),j=c(4600),k=c(9470),l=c(9180),m=c(37),n=c(3718),o=c(3872),p=c(5004),q=a([g,h,i,j,k,l]);[g,h,i,j,k,l]=q.then?(await q)():q;let r=()=>{let[a,b]=(0,f.useState)([]),[c,d]=(0,f.useState)([]),[q,r]=(0,f.useState)(!0),[s,t]=(0,f.useState)(""),[u,v]=(0,f.useState)("all"),[w,x]=(0,f.useState)("all"),[y,z]=(0,f.useState)(null),[A,B]=(0,f.useState)(!1),[C,D]=(0,f.useState)(null),{toast:E}=(0,o.dj)(),F=[{id:"1",customer_name:"John Doe",customer_email:"john@example.com",customer_telegram:"@johndoe",project_description:"Need a bot for my online store with payment integration and inventory management",service_type:"E-commerce Telegram Bot",budget_range:"$1000-$2000",timeline:"2-3 weeks",status:"pending",payment_method:"crypto",payment_status:"pending",project_requirements:["Payment Integration","Database Integration","Admin Dashboard"],admin_notes:null,delivery_date:null,project_files:null,payment_proof:null,created_at:"2025-01-15T10:30:00Z",updated_at:"2025-01-15T10:30:00Z"},{id:"2",customer_name:"Jane Smith",customer_email:"jane@example.com",customer_telegram:"@janesmith",project_description:"Automated trading bot with risk management and multiple exchange support",service_type:"Crypto Trading Bot",budget_range:"$2000-$3000",timeline:"3-4 weeks",status:"in_progress",payment_method:"bkash",payment_status:"paid",project_requirements:["API Integration","Real-time Updates","Risk Management"],admin_notes:"Payment received, started development",delivery_date:"2025-02-15T00:00:00Z",project_files:null,payment_proof:null,created_at:"2025-01-14T15:45:00Z",updated_at:"2025-01-15T09:20:00Z"},{id:"3",customer_name:"Mike Johnson",customer_email:"mike@example.com",customer_telegram:"@mikejohnson",project_description:"Bot for managing my Discord server with moderation and engagement features",service_type:"Discord Community Manager",budget_range:"$800-$1500",timeline:"1-2 weeks",status:"completed",payment_method:"nagad",payment_status:"paid",project_requirements:["User Authentication","Moderation Tools","Analytics"],admin_notes:"Project completed and delivered successfully",delivery_date:"2025-01-13T16:30:00Z",project_files:{source_code:"https://github.com/example/discord-bot",documentation:"https://docs.example.com/discord-bot",demo:"https://demo.example.com/discord-bot"},payment_proof:null,created_at:"2025-01-10T12:00:00Z",updated_at:"2025-01-13T16:30:00Z"}],G=async()=>{try{console.log("Starting to fetch orders from Supabase..."),r(!0);let{data:a,error:c}=await n.N.from("orders").select("*").order("created_at",{ascending:!1});if(console.log("Supabase orders response:",{data:a,error:c}),c)console.error("Error fetching orders:",c),console.log("Falling back to mock data due to error"),b(F),d(F);else{console.log("Successfully fetched orders from Supabase:",a);let c=(a||[]).map(a=>({...a,payment_method:a.payment_method||"pending",payment_status:a.payment_status||"pending",project_requirements:a.project_requirements||[],admin_notes:a.admin_notes||null,delivery_date:a.delivery_date||null,project_files:a.project_files||null,payment_proof:a.payment_proof||null}));b(c),d(c)}}catch(a){console.error("Error fetching orders:",a),console.log("Falling back to mock data due to exception"),b(F),d(F)}finally{r(!1)}};(0,f.useEffect)(()=>{G()},[]),(0,f.useEffect)(()=>{let b=a;s&&(b=b.filter(a=>a.customer_name.toLowerCase().includes(s.toLowerCase())||a.project_description.toLowerCase().includes(s.toLowerCase())||a.customer_telegram?.toLowerCase().includes(s.toLowerCase()))),"all"!==u&&(b=b.filter(a=>a.status===u)),"all"!==w&&(b=b.filter(a=>a.payment_status===w)),d(b)},[a,s,u,w]);let H=async(c,e)=>{try{let{error:f}=await n.N.from("orders").update({status:e,updated_at:new Date().toISOString()}).eq("id",c);if(f){console.error("Error updating order status:",f),E({title:"Update Failed",description:"Failed to update order status. Please try again.",variant:"destructive"});return}b(a=>a.map(a=>a.id===c?{...a,status:e,updated_at:new Date().toISOString()}:a)),d(a=>a.map(a=>a.id===c?{...a,status:e,updated_at:new Date().toISOString()}:a));let g=a.find(a=>a.id===c);g&&await (0,p.Sw)(g,e),E({title:"Status Updated",description:`Order status updated to ${e}`})}catch(a){console.error("Error updating order status:",a),E({title:"Update Failed",description:"Failed to update order status. Please try again.",variant:"destructive"})}},I=async(c,e)=>{try{let{error:f}=await n.N.from("orders").update({payment_status:e,updated_at:new Date().toISOString()}).eq("id",c);if(f){console.error("Error updating payment status:",f),E({title:"Update Failed",description:"Failed to update payment status. Please try again.",variant:"destructive"});return}b(a=>a.map(a=>a.id===c?{...a,payment_status:e,updated_at:new Date().toISOString()}:a)),d(a=>a.map(a=>a.id===c?{...a,payment_status:e,updated_at:new Date().toISOString()}:a));let g=a.find(a=>a.id===c);g&&await (0,p.xz)(g,e),E({title:"Payment Status Updated",description:`Payment status updated to ${e}`})}catch(a){console.error("Error updating payment status:",a),E({title:"Update Failed",description:"Failed to update payment status. Please try again.",variant:"destructive"})}},J=async(a,c)=>{try{let{error:e}=await n.N.from("orders").update({...c,updated_at:new Date().toISOString()}).eq("id",a);if(e){console.error("Error updating order details:",e),E({title:"Update Failed",description:"Failed to update order details. Please try again.",variant:"destructive"});return}b(b=>b.map(b=>b.id===a?{...b,...c,updated_at:new Date().toISOString()}:b)),d(b=>b.map(b=>b.id===a?{...b,...c,updated_at:new Date().toISOString()}:b)),E({title:"Order Updated",description:"Order details updated successfully"}),D(null)}catch(a){console.error("Error updating order details:",a),E({title:"Update Failed",description:"Failed to update order details. Please try again.",variant:"destructive"})}},K=(a,b)=>{switch(b){case"accept":H(a.id,"accepted");break;case"start":H(a.id,"in_progress");break;case"review":H(a.id,"review");break;case"complete":H(a.id,"completed");break;case"cancel":H(a.id,"cancelled");break;case"mark_paid":I(a.id,"paid");break;case"mark_failed":I(a.id,"failed");break;case"view":z(a),B(!0);break;case"edit":D(a);break;case"deliver":L(a)}},L=async a=>{let b={source_code:prompt("Enter source code URL:"),documentation:prompt("Enter documentation URL:"),demo_url:prompt("Enter demo URL:"),installation_guide:prompt("Enter installation guide:"),admin_notes:prompt("Enter delivery notes:")};if(b.source_code){let c={source_code:b.source_code,documentation:b.documentation,demo_url:b.demo_url,installation_guide:b.installation_guide,delivered_at:new Date().toISOString()};await J(a.id,{status:"completed",project_files:c,delivery_date:new Date().toISOString(),admin_notes:b.admin_notes}),await (0,p.pC)(a,b),E({title:"Project Delivered",description:"Project has been delivered and customer notified"})}};return(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,e.jsx)("h2",{className:"text-3xl font-bold",children:"Orders Management"}),(0,e.jsxs)(h.$,{onClick:()=>{G()},disabled:q,children:[(0,e.jsx)(m.e9t,{className:`w-4 h-4 mr-2 ${q?"animate-spin":""}`}),"Refresh"]})]}),(0,e.jsxs)(g.Zp,{children:[(0,e.jsx)(g.aR,{children:(0,e.jsxs)(g.ZB,{className:"flex items-center gap-2",children:[(0,e.jsx)(m.dJT,{className:"w-5 h-5"}),"Filters"]})}),(0,e.jsx)(g.Wu,{children:(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-sm font-medium",children:"Search"}),(0,e.jsx)(j.p,{placeholder:"Search orders...",value:s,onChange:a=>t(a.target.value),className:"mt-1"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-sm font-medium",children:"Status"}),(0,e.jsxs)(l.l6,{value:u,onValueChange:v,children:[(0,e.jsx)(l.bq,{className:"mt-1",children:(0,e.jsx)(l.yv,{})}),(0,e.jsxs)(l.gC,{children:[(0,e.jsx)(l.eb,{value:"all",children:"All Statuses"}),(0,e.jsx)(l.eb,{value:"pending",children:"Pending"}),(0,e.jsx)(l.eb,{value:"accepted",children:"Accepted"}),(0,e.jsx)(l.eb,{value:"in_progress",children:"In Progress"}),(0,e.jsx)(l.eb,{value:"review",children:"Review"}),(0,e.jsx)(l.eb,{value:"completed",children:"Completed"}),(0,e.jsx)(l.eb,{value:"cancelled",children:"Cancelled"})]})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-sm font-medium",children:"Payment Status"}),(0,e.jsxs)(l.l6,{value:w,onValueChange:x,children:[(0,e.jsx)(l.bq,{className:"mt-1",children:(0,e.jsx)(l.yv,{})}),(0,e.jsxs)(l.gC,{children:[(0,e.jsx)(l.eb,{value:"all",children:"All Payment Statuses"}),(0,e.jsx)(l.eb,{value:"pending",children:"Pending"}),(0,e.jsx)(l.eb,{value:"paid",children:"Paid"}),(0,e.jsx)(l.eb,{value:"failed",children:"Failed"}),(0,e.jsx)(l.eb,{value:"refunded",children:"Refunded"})]})]})]}),(0,e.jsx)("div",{className:"flex items-end",children:(0,e.jsx)(h.$,{variant:"outline",onClick:()=>{t(""),v("all"),x("all")},className:"w-full",children:"Clear Filters"})})]})})]}),(0,e.jsxs)(g.Zp,{children:[(0,e.jsx)(g.aR,{children:(0,e.jsxs)(g.ZB,{children:["Orders (",c.length,")"]})}),(0,e.jsx)(g.Wu,{children:q?(0,e.jsxs)("div",{className:"text-center py-8",children:[(0,e.jsx)(m.e9t,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),(0,e.jsx)("p",{children:"Loading orders..."})]}):0===c.length?(0,e.jsxs)("div",{className:"text-center py-8",children:[(0,e.jsx)(m.iUU,{className:"w-8 h-8 mx-auto mb-4 text-gray-400"}),(0,e.jsx)("p",{children:"No orders found"})]}):(0,e.jsx)("div",{className:"space-y-4",children:c.map(a=>{let b;return(0,e.jsx)("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:(0,e.jsxs)("div",{className:"flex items-start justify-between",children:[(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,e.jsx)("h3",{className:"font-semibold text-lg",children:a.customer_name}),(a=>{switch(a){case"pending":return(0,e.jsxs)(i.E,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[(0,e.jsx)(m.zD7,{className:"w-3 h-3 mr-1"}),"Pending"]});case"accepted":return(0,e.jsxs)(i.E,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[(0,e.jsx)(m.rAV,{className:"w-3 h-3 mr-1"}),"Accepted"]});case"in_progress":return(0,e.jsxs)(i.E,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[(0,e.jsx)(m.zD7,{className:"w-3 h-3 mr-1"}),"In Progress"]});case"review":return(0,e.jsxs)(i.E,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:[(0,e.jsx)(m.kU3,{className:"w-3 h-3 mr-1"}),"Review"]});case"completed":return(0,e.jsxs)(i.E,{variant:"secondary",className:"bg-green-100 text-green-800",children:[(0,e.jsx)(m.rAV,{className:"w-3 h-3 mr-1"}),"Completed"]});case"cancelled":return(0,e.jsxs)(i.E,{variant:"secondary",className:"bg-red-100 text-red-800",children:[(0,e.jsx)(m.Jpz,{className:"w-3 h-3 mr-1"}),"Cancelled"]});default:return(0,e.jsx)(i.E,{variant:"secondary",children:a})}})(a.status),(a=>{switch(a){case"pending":return(0,e.jsxs)(i.E,{variant:"outline",className:"border-yellow-300 text-yellow-700",children:[(0,e.jsx)(m.zD7,{className:"w-3 h-3 mr-1"}),"Pending"]});case"paid":return(0,e.jsxs)(i.E,{variant:"outline",className:"border-green-300 text-green-700",children:[(0,e.jsx)(m.rAV,{className:"w-3 h-3 mr-1"}),"Paid"]});case"failed":return(0,e.jsxs)(i.E,{variant:"outline",className:"border-red-300 text-red-700",children:[(0,e.jsx)(m.Jpz,{className:"w-3 h-3 mr-1"}),"Failed"]});case"refunded":return(0,e.jsxs)(i.E,{variant:"outline",className:"border-gray-300 text-gray-700",children:[(0,e.jsx)(m.e9t,{className:"w-3 h-3 mr-1"}),"Refunded"]});default:return(0,e.jsx)(i.E,{variant:"outline",children:a})}})(a.payment_status),(0,e.jsxs)("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[(a=>{switch(a){case"crypto":return(0,e.jsx)(m.Tpz,{className:"w-4 h-4 text-orange-500"});case"bkash":return(0,e.jsx)(m.uWV,{className:"w-4 h-4 text-blue-500"});case"nagad":return(0,e.jsx)(m.uWV,{className:"w-4 h-4 text-green-500"});default:return(0,e.jsx)(m.G9t,{className:"w-4 h-4 text-gray-500"})}})(a.payment_method),(0,e.jsx)("span",{className:"capitalize",children:a.payment_method})]})]}),(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-muted-foreground mb-3",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(m.gE4,{className:"w-4 h-4"}),a.customer_email]}),a.customer_telegram&&(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(m.oFn,{className:"w-4 h-4"}),a.customer_telegram]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(m.VvS,{className:"w-4 h-4"}),(b=a.created_at,new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))]})]}),(0,e.jsxs)("div",{className:"mb-3",children:[(0,e.jsxs)("p",{className:"font-medium mb-1",children:["Service: ",a.service_type]}),(0,e.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:a.project_description})]}),(0,e.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,e.jsxs)("span",{className:"flex items-center gap-1",children:[(0,e.jsx)(m.G9t,{className:"w-4 h-4"}),a.budget_range]}),(0,e.jsxs)("span",{className:"flex items-center gap-1",children:[(0,e.jsx)(m.zD7,{className:"w-4 h-4"}),a.timeline]})]}),a.project_requirements&&a.project_requirements.length>0&&(0,e.jsxs)("div",{className:"mt-3",children:[(0,e.jsx)("p",{className:"text-sm font-medium mb-2",children:"Requirements:"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-2",children:a.project_requirements.map((a,b)=>(0,e.jsx)(i.E,{variant:"secondary",className:"text-xs",children:a},b))})]})]}),(0,e.jsx)("div",{className:"flex flex-col gap-2 ml-4",children:(a=>{let b=[];switch(a.status){case"pending":b.push((0,e.jsxs)(h.$,{size:"sm",onClick:()=>K(a,"accept"),className:"bg-green-600 hover:bg-green-700",children:[(0,e.jsx)(m.rAV,{className:"w-3 h-3 mr-1"}),"Accept"]},"accept"));break;case"accepted":b.push((0,e.jsxs)(h.$,{size:"sm",onClick:()=>K(a,"start"),className:"bg-blue-600 hover:bg-blue-700",children:[(0,e.jsx)(m.zD7,{className:"w-3 h-3 mr-1"}),"Start"]},"start"));break;case"in_progress":b.push((0,e.jsxs)(h.$,{size:"sm",onClick:()=>K(a,"review"),className:"bg-purple-600 hover:bg-purple-700",children:[(0,e.jsx)(m.kU3,{className:"w-3 h-3 mr-1"}),"Review"]},"review"));break;case"review":b.push((0,e.jsxs)(h.$,{size:"sm",onClick:()=>K(a,"complete"),className:"bg-green-600 hover:bg-green-700",children:[(0,e.jsx)(m.rAV,{className:"w-3 h-3 mr-1"}),"Complete"]},"complete"))}return"pending"===a.payment_status&&b.push((0,e.jsxs)(h.$,{size:"sm",onClick:()=>K(a,"mark_paid"),className:"bg-green-600 hover:bg-green-700",children:[(0,e.jsx)(m.rAV,{className:"w-3 h-3 mr-1"}),"Mark Paid"]},"mark_paid")),b.push((0,e.jsxs)(h.$,{size:"sm",variant:"outline",onClick:()=>K(a,"view"),children:[(0,e.jsx)(m.kU3,{className:"w-3 h-3 mr-1"}),"View"]},"view"),(0,e.jsxs)(h.$,{size:"sm",variant:"outline",onClick:()=>K(a,"edit"),children:[(0,e.jsx)(m.iUU,{className:"w-3 h-3 mr-1"}),"Edit"]},"edit")),"completed"!==a.status||a.project_files||b.push((0,e.jsxs)(h.$,{size:"sm",onClick:()=>K(a,"deliver"),className:"bg-purple-600 hover:bg-purple-700",children:[(0,e.jsx)(m._OO,{className:"w-3 h-3 mr-1"}),"Deliver"]},"deliver")),b})(a)})]})},a.id)})})})]}),A&&y&&(0,e.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,e.jsx)("div",{className:"bg-black/50 backdrop-blur-sm rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-white/20",children:(0,e.jsxs)("div",{className:"p-6 text-white",children:[(0,e.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,e.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Order Details"}),(0,e.jsx)(h.$,{variant:"outline",onClick:()=>B(!1),className:"border-white/20 text-white hover:bg-white/10",children:(0,e.jsx)(m.Jpz,{className:"w-4 h-4"})})]}),(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:"font-semibold mb-3 text-white",children:"Customer Information"}),(0,e.jsxs)("div",{className:"space-y-2 text-white",children:[(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Name:"})," ",y.customer_name]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Email:"})," ",y.customer_email]}),y.customer_telegram&&(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Telegram:"})," ",y.customer_telegram]})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:"font-semibold mb-3 text-white",children:"Project Information"}),(0,e.jsxs)("div",{className:"space-y-2 text-white",children:[(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Service:"})," ",y.service_type]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Budget:"})," ",y.budget_range]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Timeline:"})," ",y.timeline]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Status:"})," ",y.status]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Payment Status:"})," ",y.payment_status]})]})]})]}),(0,e.jsxs)("div",{className:"mt-6",children:[(0,e.jsx)("h3",{className:"font-semibold mb-3 text-white",children:"Project Description"}),(0,e.jsx)("p",{className:"text-white/80",children:y.project_description})]}),y.project_requirements&&y.project_requirements.length>0&&(0,e.jsxs)("div",{className:"mt-6",children:[(0,e.jsx)("h3",{className:"font-semibold mb-3 text-white",children:"Project Requirements"}),(0,e.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:y.project_requirements.map((a,b)=>(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(m.SE8,{className:"w-4 h-4 text-green-400"}),(0,e.jsx)("span",{className:"text-sm text-white",children:a})]},b))})]}),y.admin_notes&&(0,e.jsxs)("div",{className:"mt-6",children:[(0,e.jsx)("h3",{className:"font-semibold mb-3 text-white",children:"Admin Notes"}),(0,e.jsx)("p",{className:"text-white/80",children:y.admin_notes})]}),y.project_files&&(0,e.jsxs)("div",{className:"mt-6",children:[(0,e.jsx)("h3",{className:"font-semibold mb-3 text-white",children:"Project Files"}),(0,e.jsxs)("div",{className:"space-y-2 text-white",children:[y.project_files.source_code&&(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Source Code:"})," ",(0,e.jsx)("a",{href:y.project_files.source_code,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:y.project_files.source_code})]}),y.project_files.documentation&&(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Documentation:"})," ",(0,e.jsx)("a",{href:y.project_files.documentation,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:y.project_files.documentation})]}),y.project_files.demo_url&&(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Demo:"})," ",(0,e.jsx)("a",{href:y.project_files.demo_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:y.project_files.demo_url})]}),y.project_files.installation_guide&&(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Installation Guide:"})," ",(0,e.jsx)("a",{href:y.project_files.installation_guide,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:y.project_files.installation_guide})]})]})]}),(0,e.jsxs)("div",{className:"flex justify-end gap-3 mt-8",children:[(0,e.jsx)(h.$,{variant:"outline",onClick:()=>B(!1),className:"border-white/20 text-white hover:bg-white/10",children:"Close"}),(0,e.jsx)(h.$,{onClick:()=>{D(y),B(!1)},className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Edit Order"})]})]})})}),C&&(0,e.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,e.jsx)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,e.jsxs)("div",{className:"p-6",children:[(0,e.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,e.jsx)("h2",{className:"text-2xl font-bold",children:"Edit Order"}),(0,e.jsx)(h.$,{variant:"outline",onClick:()=>D(null),children:(0,e.jsx)(m.Jpz,{className:"w-4 h-4"})})]}),(0,e.jsx)("form",{onSubmit:a=>{a.preventDefault();let b=new FormData(a.currentTarget),c={admin_notes:b.get("admin_notes"),delivery_date:b.get("delivery_date")};J(C.id,c)},children:(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-sm font-medium",children:"Admin Notes"}),(0,e.jsx)(k.T,{name:"admin_notes",defaultValue:C.admin_notes||"",placeholder:"Add admin notes...",rows:3})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-sm font-medium",children:"Expected Delivery Date"}),(0,e.jsx)(j.p,{type:"date",name:"delivery_date",defaultValue:C.delivery_date?C.delivery_date.split("T")[0]:""})]}),(0,e.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,e.jsx)(h.$,{type:"button",variant:"outline",onClick:()=>D(null),children:"Cancel"}),(0,e.jsx)(h.$,{type:"submit",children:"Update Order"})]})]})})]})})})]})};d()}catch(a){d(a)}})},7259:a=>{a.exports=import("@radix-ui/react-tabs")},7860:a=>{a.exports=import("@radix-ui/react-select")},7909:a=>{a.exports=require("next/dist/shared/lib/page-path/normalize-data-path")},8732:a=>{a.exports=require("react/jsx-runtime")},8938:a=>{a.exports=import("class-variance-authority")},9449:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{config:()=>M,default:()=>I,getServerSideProps:()=>L,getStaticPaths:()=>K,getStaticProps:()=>J,handler:()=>H,reportWebVitals:()=>N,routeModule:()=>T,unstable_getServerProps:()=>R,unstable_getServerSideProps:()=>S,unstable_getStaticParams:()=>Q,unstable_getStaticPaths:()=>P,unstable_getStaticProps:()=>O});var e=c(3885),f=c(237),g=c(772),h=c(2410),i=c(1322),j=c(5124),k=c(8647),l=c(3709),m=c(7909),n=c(5122),o=c(1413),p=c(9616),q=c.n(p),r=c(5504),s=c.n(r),t=c(4820),u=c(6755),v=c(156),w=c(12),x=c(2072),y=c(8164),z=c(4971),A=c(8737),B=c(6439),C=c(5735),D=c(6713),E=c(3103),F=c(5952),G=a([t]);t=(G.then?(await G)():G)[0];let I=(0,o.M)(t,"default"),J=(0,o.M)(t,"getStaticProps"),K=(0,o.M)(t,"getStaticPaths"),L=(0,o.M)(t,"getServerSideProps"),M=(0,o.M)(t,"config"),N=(0,o.M)(t,"reportWebVitals"),O=(0,o.M)(t,"unstable_getStaticProps"),P=(0,o.M)(t,"unstable_getStaticPaths"),Q=(0,o.M)(t,"unstable_getStaticParams"),R=(0,o.M)(t,"unstable_getServerProps"),S=(0,o.M)(t,"unstable_getServerSideProps"),T=new e.PagesRouteModule({definition:{kind:f.RouteKind.PAGES,page:"/Admin",pathname:"/Admin",bundlePath:"",filename:""},distDir:".next",projectDir:"",components:{App:s(),Document:q()},userland:t});async function H(a,b,c){var d,e;let o="/Admin";"/index"===o&&(o="/");let p="false",q=await T.prepare(a,b,{srcPage:o,multiZoneDraftMode:p});if(!q){b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve());return}let{buildId:r,query:s,params:G,parsedUrl:H,originalQuery:I,originalPathname:N,buildManifest:O,nextFontManifest:P,serverFilesManifest:Q,reactLoadableManifest:R,prerenderManifest:S,isDraftMode:U,isOnDemandRevalidate:V,revalidateOnlyGenerated:W,locale:X,locales:Y,defaultLocale:Z,routerServerContext:$,nextConfig:_,resolvedPathname:aa}=q,ab=null==Q||null==(e=Q.config)||null==(d=e.experimental)?void 0:d.isExperimentalCompile,ac=!!L,ad=!!J,ae=!!K,af=!!(t.default||t).getInitialProps,ag=s.amp&&M.amp,ah=null,ai=!1,aj=q.isNextDataRequest&&(ad||ac),ak="/404"===o,al="/500"===o,am="/_error"===o;if(T.isDev||U||!ad||(ah=`${X?`/${X}`:""}${("/"===o||"/"===aa)&&X?"":aa}${ag?".amp":""}`,(ak||al||am)&&(ah=`${X?`/${X}`:""}${o}${ag?".amp":""}`),ah="/index"===ah?"/":ah),ae&&!U){let a=(0,F.removeTrailingSlash)(X?(0,E.addPathPrefix)(aa,`/${X}`):aa),b=!!S.routes[a]||S.notFoundRoutes.includes(a),c=S.dynamicRoutes[o];if(c){if(!1===c.fallback&&!b)throw new B.NoFallbackError;"string"!=typeof c.fallback||b||aj||(ai=!0)}}(ai&&(0,D.isBot)(a.headers["user-agent"]||"")||(0,j.getRequestMeta)(a,"minimalMode"))&&(ai=!1);let an=(0,h.getTracer)(),ao=an.getActiveScopeSpan();try{let d=a.method||"GET",e=(0,i.formatUrl)({pathname:_.trailingSlash?H.pathname:(0,F.removeTrailingSlash)(H.pathname||"/"),query:ad?{}:I}),q=(null==$?void 0:$.publicRuntimeConfig)||_.publicRuntimeConfig,B=async h=>{var B,D;let E,F=async({previousCacheEntry:u})=>{var v;let w=async()=>{try{var c,f,v;return await T.render(a,b,{query:ad&&!ab?{...G,...ag?{amp:s.amp}:{}}:{...s,...G},params:G,page:o,renderContext:{isDraftMode:U,isFallback:ai,developmentNotFoundSourcePage:(0,j.getRequestMeta)(a,"developmentNotFoundSourcePage")},sharedContext:{buildId:r,customServer:!!(null==$?void 0:$.isCustomServer)||void 0,deploymentId:!1},renderOpts:{params:G,routeModule:T,page:o,pageConfig:M||{},Component:(0,k.T)(t),ComponentMod:t,getStaticProps:J,getStaticPaths:K,getServerSideProps:L,supportsDynamicResponse:!ad,buildManifest:O,nextFontManifest:P,reactLoadableManifest:R,assetPrefix:_.assetPrefix,strictNextHead:_.experimental.strictNextHead??!0,previewProps:S.preview,images:_.images,nextConfigOutput:_.output,optimizeCss:!!_.experimental.optimizeCss,nextScriptWorkers:!!_.experimental.nextScriptWorkers,domainLocales:null==(c=_.i18n)?void 0:c.domains,crossOrigin:_.crossOrigin,multiZoneDraftMode:p,basePath:_.basePath,canonicalBase:_.amp.canonicalBase||"",ampOptimizerConfig:null==(f=_.experimental.amp)?void 0:f.optimizer,disableOptimizedLoading:_.experimental.disableOptimizedLoading,largePageDataBytes:_.experimental.largePageDataBytes,runtimeConfig:Object.keys(q).length>0?q:void 0,isExperimentalCompile:ab,experimental:{clientTraceMetadata:_.experimental.clientTraceMetadata||[]},locale:X,locales:Y,defaultLocale:Z,setIsrStatus:null==$?void 0:$.setIsrStatus,isNextDataRequest:aj&&(ac||ad),resolvedUrl:e,resolvedAsPath:ac||af?(0,i.formatUrl)({pathname:aj?(0,m.normalizeDataPath)(N):N,query:I}):e,isOnDemandRevalidate:V,ErrorDebug:(0,j.getRequestMeta)(a,"PagesErrorDebug"),err:(0,j.getRequestMeta)(a,"invokeError"),dev:T.isDev,distDir:`${T.projectDir}/${T.distDir}`,ampSkipValidation:null==(v=_.experimental.amp)?void 0:v.skipValidation,ampValidator:(0,j.getRequestMeta)(a,"ampValidator")}}).then(a=>{let{metadata:b}=a,c=b.cacheControl;return"isNotFound"in b&&b.isNotFound?{value:null,cacheControl:c}:b.isRedirect?{value:{kind:n.CachedRouteKind.REDIRECT,props:b.pageData??b.flightData},cacheControl:c}:{value:{kind:n.CachedRouteKind.PAGES,html:a,pageData:a.metadata.pageData,headers:a.metadata.headers,status:a.metadata.statusCode},cacheControl:c}}).finally(()=>{if(!h)return;h.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let c=an.getRootSpanAttributes();if(!c)return;if(c.get("next.span_type")!==g.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${c.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=c.get("next.route");if(e){let a=`${d} ${e}`;h.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),h.updateName(a)}else h.updateName(`${d} ${a.url}`)})}catch(b){throw(null==u?void 0:u.isStale)&&await T.onRequestError(a,b,{routerKind:"Pages Router",routePath:o,routeType:"render",revalidateReason:(0,l.c)({isRevalidate:ad,isOnDemandRevalidate:V})},$),b}};if(u&&(ai=!1),ai){let b=await T.getResponseCache(a).get(T.isDev?null:X?`/${X}${o}`:o,async({previousCacheEntry:a=null})=>T.isDev?w():(0,A.toResponseCacheEntry)(a),{routeKind:f.RouteKind.PAGES,isFallback:!0,isRoutePPREnabled:!1,isOnDemandRevalidate:!1,incrementalCache:await T.getIncrementalCache(a,_,S),waitUntil:c.waitUntil});if(b)return delete b.cacheControl,b.isMiss=!0,b}return!(0,j.getRequestMeta)(a,"minimalMode")&&V&&W&&!u?(b.statusCode=404,b.setHeader("x-nextjs-cache","REVALIDATED"),b.end("This page could not be found"),null):ai&&(null==u||null==(v=u.value)?void 0:v.kind)===n.CachedRouteKind.PAGES?{value:{kind:n.CachedRouteKind.PAGES,html:new z.default(Buffer.from(u.value.html),{contentType:"text/html;utf-8",metadata:{statusCode:u.value.status,headers:u.value.headers}}),pageData:{},status:u.value.status,headers:u.value.headers},cacheControl:{revalidate:0,expire:void 0}}:w()},Q=await T.handleResponse({cacheKey:ah,req:a,nextConfig:_,routeKind:f.RouteKind.PAGES,isOnDemandRevalidate:V,revalidateOnlyGenerated:W,waitUntil:c.waitUntil,responseGenerator:F,prerenderManifest:S});if(!ai||(null==Q?void 0:Q.isMiss)||(ai=!1),Q){if(ad&&!(0,j.getRequestMeta)(a,"minimalMode")&&b.setHeader("x-nextjs-cache",V?"REVALIDATED":Q.isMiss?"MISS":Q.isStale?"STALE":"HIT"),!ad||ai)b.getHeader("Cache-Control")||(E={revalidate:0,expire:void 0});else if(ak){let b=(0,j.getRequestMeta)(a,"notFoundRevalidate");E={revalidate:void 0===b?0:b,expire:void 0}}else if(al)E={revalidate:0,expire:void 0};else if(Q.cacheControl)if("number"==typeof Q.cacheControl.revalidate){if(Q.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${Q.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});E={revalidate:Q.cacheControl.revalidate,expire:(null==(B=Q.cacheControl)?void 0:B.expire)??_.expireTime}}else E={revalidate:x.CACHE_ONE_YEAR,expire:void 0};if(E&&!b.getHeader("Cache-Control")&&b.setHeader("Cache-Control",(0,u.getCacheControlHeader)(E)),!Q.value)return((0,j.addRequestMeta)(a,"notFoundRevalidate",null==(D=Q.cacheControl)?void 0:D.revalidate),b.statusCode=404,aj)?void b.end('{"notFound":true}'):void((null==$?void 0:$.render404)?await $.render404(a,b,H,!1):b.end("This page could not be found"));if(Q.value.kind===n.CachedRouteKind.REDIRECT)if(!aj)return await (a=>{let c={destination:a.pageProps.__N_REDIRECT,statusCode:a.pageProps.__N_REDIRECT_STATUS,basePath:a.pageProps.__N_REDIRECT_BASE_PATH},d=(0,w.getRedirectStatus)(c),{basePath:e}=_;e&&!1!==c.basePath&&c.destination.startsWith("/")&&(c.destination=`${e}${c.destination}`),c.destination.startsWith("/")&&(c.destination=(0,v.normalizeRepeatedSlashes)(c.destination)),b.statusCode=d,b.setHeader("Location",c.destination),d===C.RedirectStatusCode.PermanentRedirect&&b.setHeader("Refresh",`0;url=${c.destination}`),b.end(c.destination)})(Q.value.props),null;else{b.setHeader("content-type","application/json"),b.end(JSON.stringify(Q.value.props));return}if(Q.value.kind!==n.CachedRouteKind.PAGES)throw Object.defineProperty(Error("Invariant: received non-pages cache entry in pages handler"),"__NEXT_ERROR_CODE",{value:"E695",enumerable:!1,configurable:!0});if(T.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),U&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),(0,j.getRequestMeta)(a,"customErrorRender")||am&&(0,j.getRequestMeta)(a,"minimalMode")&&500===b.statusCode)return null;await (0,y.sendRenderResult)({req:a,res:b,result:!aj||am||al?Q.value.html:new z.default(Buffer.from(JSON.stringify(Q.value.pageData)),{contentType:"application/json",metadata:Q.value.html.metadata}),generateEtags:_.generateEtags,poweredByHeader:_.poweredByHeader,cacheControl:T.isDev?void 0:E,type:aj?"json":"html"})}};ao?await B():await an.withPropagatedContext(a.headers,()=>an.trace(g.BaseServerSpan.handleRequest,{spanName:`${d} ${a.url}`,kind:h.SpanKind.SERVER,attributes:{"http.method":d,"http.target":a.url}},B))}catch(b){throw b instanceof B.NoFallbackError||await T.onRequestError(a,b,{routerKind:"Pages Router",routePath:o,routeType:"render",revalidateReason:(0,l.c)({isRevalidate:ad,isOnDemandRevalidate:V})},$),b}}d()}catch(a){d(a)}})},9640:a=>{a.exports=import("@radix-ui/react-slot")},9805:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{r:()=>s});var e=c(8732),f=c(2015),g=c(3718),h=c(8326),i=c(524),j=c(4600),k=c(9470),l=c(7878),m=c(9180),n=c(3756),o=c(3872),p=c(37),q=c(3431),r=a([h,i,j,k,l,m,n,q]);function s(){let[a,b]=(0,f.useState)([]),[c,d]=(0,f.useState)(!0),[r,s]=(0,f.useState)(null),[t,u]=(0,f.useState)(!1),[v,w]=(0,f.useState)(new Set),{toast:x}=(0,o.dj)(),y=async()=>{try{let{data:a,error:c}=await g.N.from("content_sections").select("*").order("sort_order",{ascending:!0});if(c)throw c;b(a||[])}catch(a){x({title:"Error",description:"Failed to fetch content sections",variant:"destructive"})}finally{d(!1)}},z=async a=>{try{let b={...a};if("string"==typeof b.metadata&&b.metadata.trim().length>0)try{b.metadata=JSON.parse(b.metadata)}catch(a){x({title:"Invalid Metadata",description:"Metadata must be valid JSON.",variant:"destructive"});return}if(a.id){let{error:c}=await g.N.from("content_sections").update(b).eq("id",a.id);if(c)throw c;x({title:"Success",description:"Section updated successfully"})}else{let{error:a}=await g.N.from("content_sections").insert([b]);if(a)throw a;x({title:"Success",description:"Section created successfully"})}await y(),s(null),u(!1)}catch(a){x({title:"Error",description:"Failed to save section",variant:"destructive"})}},A=async a=>{if(confirm("Are you sure you want to delete this section?"))try{let{error:b}=await g.N.from("content_sections").delete().eq("id",a);if(b)throw b;await y(),x({title:"Success",description:"Section deleted successfully"})}catch(a){x({title:"Error",description:"Failed to delete section",variant:"destructive"})}},B=({section:a,onSave:b,onCancel:c})=>{let[d,g]=(0,f.useState)(a),[h,o]=(0,f.useState)(!1);return(0,e.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,e.jsxs)("div",{className:"bg-background rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,e.jsx)("h2",{className:"text-xl font-semibold",children:a.id?"Edit Section":"Create New Section"}),(0,e.jsx)(i.$,{variant:"ghost",size:"sm",onClick:c,children:(0,e.jsx)(p.X,{className:"h-4 w-4"})})]}),(0,e.jsxs)("form",{onSubmit:a=>{a.preventDefault(),b(d)},className:"space-y-6",children:[(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{htmlFor:"section_type",children:"Section Type"}),(0,e.jsxs)(m.l6,{value:d.section_type,onValueChange:a=>g({...d,section_type:a}),children:[(0,e.jsx)(m.bq,{children:(0,e.jsx)(m.yv,{placeholder:"Select section type"})}),(0,e.jsxs)(m.gC,{children:[(0,e.jsx)(m.eb,{value:"hero",children:"Hero Section"}),(0,e.jsx)(m.eb,{value:"about",children:"About Section"}),(0,e.jsx)(m.eb,{value:"services",children:"Services Section"}),(0,e.jsx)(m.eb,{value:"settings",children:"Site Settings"}),(0,e.jsx)(m.eb,{value:"custom",children:"Custom Section"})]})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{htmlFor:"sort_order",children:"Sort Order"}),(0,e.jsx)(j.p,{id:"sort_order",type:"number",value:d.sort_order,onChange:a=>g({...d,sort_order:parseInt(a.target.value)||0})})]})]}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{htmlFor:"title",children:"Title"}),(0,e.jsx)(j.p,{id:"title",value:d.title,onChange:a=>g({...d,title:a.target.value}),placeholder:"Section title"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{htmlFor:"subtitle",children:"Subtitle"}),(0,e.jsx)(j.p,{id:"subtitle",value:d.subtitle,onChange:a=>g({...d,subtitle:a.target.value}),placeholder:"Section subtitle"})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{htmlFor:"content",children:"Content"}),(0,e.jsx)(k.T,{id:"content",value:d.content,onChange:a=>g({...d,content:a.target.value}),placeholder:"Section content",rows:3})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{htmlFor:"image_url",children:"Image URL"}),(0,e.jsx)(j.p,{id:"image_url",value:d.image_url,onChange:a=>g({...d,image_url:a.target.value}),placeholder:"https://example.com/image.jpg"})]}),(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)(n.d,{id:"is_active",checked:d.is_active,onCheckedChange:a=>g({...d,is_active:a})}),(0,e.jsx)(l.J,{htmlFor:"is_active",children:"Active"})]}),d.section_type&&(0,e.jsxs)("div",{className:"border-t pt-6",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,e.jsx)(l.J,{className:"text-lg font-medium",children:"Metadata Configuration"}),(0,e.jsxs)(i.$,{type:"button",variant:"outline",size:"sm",onClick:()=>o(!h),children:[h?(0,e.jsx)(p.yQN,{className:"h-4 w-4"}):(0,e.jsx)(p.c_$,{className:"h-4 w-4"}),h?"Hide":"Show"," Advanced"]})]}),h?(0,e.jsx)("div",{className:"space-y-4",children:(()=>{switch(d.section_type){case"hero":return(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{htmlFor:"headline",children:"Headline"}),(0,e.jsx)(j.p,{id:"headline",value:d.metadata?.headline||"",onChange:a=>g({...d,metadata:{...d.metadata,headline:a.target.value}}),placeholder:"I Build Bots That"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{htmlFor:"subheadline",children:"Subheadline"}),(0,e.jsx)(j.p,{id:"subheadline",value:d.metadata?.subheadline||"",onChange:a=>g({...d,metadata:{...d.metadata,subheadline:a.target.value}}),placeholder:"Telegram, Discord, Web Automation & More |"})]})]}),(0,e.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{htmlFor:"years",children:"Years Experience"}),(0,e.jsx)(j.p,{id:"years",value:d.metadata?.stats?.years||"",onChange:a=>g({...d,metadata:{...d.metadata,stats:{...d.metadata?.stats,years:a.target.value}}}),placeholder:"2+"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{htmlFor:"projects",children:"Projects"}),(0,e.jsx)(j.p,{id:"projects",value:d.metadata?.stats?.projects||"",onChange:a=>g({...d,metadata:{...d.metadata,stats:{...d.metadata?.stats,projects:a.target.value}}}),placeholder:"30+"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{htmlFor:"rating",children:"Rating"}),(0,e.jsx)(j.p,{id:"rating",value:d.metadata?.stats?.rating||"",onChange:a=>g({...d,metadata:{...d.metadata,stats:{...d.metadata?.stats,rating:a.target.value}}}),placeholder:"5⭐"})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{htmlFor:"fiverrUrl",children:"Fiverr URL"}),(0,e.jsx)(j.p,{id:"fiverrUrl",value:d.metadata?.ctas?.fiverrUrl||"",onChange:a=>g({...d,metadata:{...d.metadata,ctas:{...d.metadata?.ctas,fiverrUrl:a.target.value}}}),placeholder:"https://fiverr.com/..."})]})]});case"about":return(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{htmlFor:"aboutCopy",children:"About Copy"}),(0,e.jsx)(k.T,{id:"aboutCopy",value:d.metadata?.aboutCopy||"",onChange:a=>g({...d,metadata:{...d.metadata,aboutCopy:a.target.value}}),placeholder:"I'm a bot automation expert...",rows:3})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{children:"Skills"}),(0,e.jsx)("div",{className:"space-y-2",children:[0,1,2,3,4,5,6,7].map(a=>(0,e.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,e.jsx)(j.p,{placeholder:"Skill name",value:d.metadata?.skills?.[a]?.name||"",onChange:b=>{let c=[...d.metadata?.skills||[]];c[a]||(c[a]={}),c[a]={...c[a],name:b.target.value},g({...d,metadata:{...d.metadata,skills:c}})}}),(0,e.jsx)(j.p,{type:"number",placeholder:"Level %",value:d.metadata?.skills?.[a]?.level||"",onChange:b=>{let c=[...d.metadata?.skills||[]];c[a]||(c[a]={}),c[a]={...c[a],level:parseInt(b.target.value)||0},g({...d,metadata:{...d.metadata,skills:c}})}}),(0,e.jsxs)(m.l6,{value:d.metadata?.skills?.[a]?.color||"text-primary",onValueChange:b=>{let c=[...d.metadata?.skills||[]];c[a]||(c[a]={}),c[a]={...c[a],color:b},g({...d,metadata:{...d.metadata,skills:c}})},children:[(0,e.jsx)(m.bq,{children:(0,e.jsx)(m.yv,{})}),(0,e.jsxs)(m.gC,{children:[(0,e.jsx)(m.eb,{value:"text-primary",children:"Primary"}),(0,e.jsx)(m.eb,{value:"text-secondary",children:"Secondary"})]})]})]},a))})]})]});case"services":return(0,e.jsx)("div",{className:"space-y-4",children:[0,1,2,3].map(a=>(0,e.jsxs)("div",{className:"border rounded-lg p-4 space-y-3",children:[(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{children:"Service Title"}),(0,e.jsx)(j.p,{placeholder:"Service name",value:d.metadata?.services?.[a]?.title||"",onChange:b=>{let c=[...d.metadata?.services||[]];c[a]||(c[a]={}),c[a]={...c[a],title:b.target.value},g({...d,metadata:{...d.metadata,services:c}})}})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{children:"Description"}),(0,e.jsx)(j.p,{placeholder:"Service description",value:d.metadata?.services?.[a]?.description||"",onChange:b=>{let c=[...d.metadata?.services||[]];c[a]||(c[a]={}),c[a]={...c[a],description:b.target.value},g({...d,metadata:{...d.metadata,services:c}})}})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{children:"Features (comma separated)"}),(0,e.jsx)(j.p,{placeholder:"Feature 1, Feature 2, Feature 3",value:d.metadata?.services?.[a]?.features?.join(", ")||"",onChange:b=>{let c=b.target.value.split(",").map(a=>a.trim()).filter(a=>a),e=[...d.metadata?.services||[]];e[a]||(e[a]={}),e[a]={...e[a],features:c},g({...d,metadata:{...d.metadata,services:e}})}})]})]},a))});case"settings":return(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{htmlFor:"brandName",children:"Brand Name"}),(0,e.jsx)(j.p,{id:"brandName",value:d.metadata?.brandName||"",onChange:a=>g({...d,metadata:{...d.metadata,brandName:a.target.value}}),placeholder:"Mushfiq's Bots"})]}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{htmlFor:"fiverrUrl",children:"Fiverr URL"}),(0,e.jsx)(j.p,{id:"fiverrUrl",value:d.metadata?.links?.fiverrUrl||"",onChange:a=>g({...d,metadata:{...d.metadata,links:{...d.metadata?.links,fiverrUrl:a.target.value}}}),placeholder:"https://fiverr.com/..."})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{htmlFor:"telegramUrl",children:"Telegram URL"}),(0,e.jsx)(j.p,{id:"telegramUrl",value:d.metadata?.links?.telegramUrl||"",onChange:a=>g({...d,metadata:{...d.metadata,links:{...d.metadata?.links,telegramUrl:a.target.value}}}),placeholder:"https://t.me/..."})]})]}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{htmlFor:"email",children:"Email"}),(0,e.jsx)(j.p,{id:"email",value:d.metadata?.links?.email||"",onChange:a=>g({...d,metadata:{...d.metadata,links:{...d.metadata?.links,email:a.target.value}}}),placeholder:"email@example.com"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{htmlFor:"linkedin",children:"LinkedIn"}),(0,e.jsx)(j.p,{id:"linkedin",value:d.metadata?.links?.linkedin||"",onChange:a=>g({...d,metadata:{...d.metadata,links:{...d.metadata?.links,linkedin:a.target.value}}}),placeholder:"https://linkedin.com/..."})]})]})]});default:return(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{htmlFor:"metadata",children:"Metadata (JSON)"}),(0,e.jsx)(k.T,{id:"metadata",value:"string"==typeof d.metadata||null==d.metadata?d.metadata||"":JSON.stringify(d.metadata,null,2),onChange:a=>g({...d,metadata:a.target.value}),placeholder:"Enter JSON metadata",rows:8}),(0,e.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Use this for custom section types"})]})}})()}):(0,e.jsx)("div",{className:"text-sm text-muted-foreground",children:'Click "Show Advanced" to configure section-specific metadata'})]}),(0,e.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,e.jsx)(i.$,{type:"button",variant:"outline",onClick:c,children:"Cancel"}),(0,e.jsxs)(i.$,{type:"submit",children:[(0,e.jsx)(p.eMP,{className:"mr-2 h-4 w-4"}),"Save Section"]})]})]})]})})};return c?(0,e.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),(0,e.jsx)("p",{className:"mt-2 text-muted-foreground",children:"Loading content sections..."})]})}):(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-2xl font-bold",children:"Content Management"}),(0,e.jsx)("p",{className:"text-muted-foreground",children:"Manage your website content and sections"})]}),(0,e.jsxs)(i.$,{onClick:()=>u(!0),children:[(0,e.jsx)(p.FWt,{className:"mr-2 h-4 w-4"}),"Add Section"]})]}),(0,e.jsx)("div",{className:"grid gap-4",children:a.map(a=>(0,e.jsxs)(h.Zp,{className:"overflow-hidden",children:[(0,e.jsx)(h.aR,{className:"pb-3",children:(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(q.E,{variant:a.is_active?"default":"secondary",children:a.section_type}),(0,e.jsx)("span",{className:"font-semibold",children:a.title})]}),(0,e.jsxs)(q.E,{variant:"outline",className:"text-xs",children:["Order: ",a.sort_order]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>(a=>{let b=new Set(v);b.has(a)?b.delete(a):b.add(a),w(b)})(a.id),children:v.has(a.id)?(0,e.jsx)(p.yQN,{className:"h-4 w-4"}):(0,e.jsx)(p.c_$,{className:"h-4 w-4"})}),(0,e.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>s(a),children:(0,e.jsx)(p.ffu,{className:"h-4 w-4"})}),(0,e.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>A(a.id),children:(0,e.jsx)(p.TBR,{className:"h-4 w-4"})})]})]})}),v.has(a.id)&&(0,e.jsx)(h.Wu,{className:"pt-0",children:(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{className:"text-sm font-medium",children:"Subtitle"}),(0,e.jsx)("p",{className:"text-sm text-muted-foreground",children:a.subtitle||"Not set"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{className:"text-sm font-medium",children:"Content"}),(0,e.jsx)("p",{className:"text-sm text-muted-foreground",children:a.content||"Not set"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{className:"text-sm font-medium",children:"Status"}),(0,e.jsx)(q.E,{variant:a.is_active?"default":"secondary",children:a.is_active?"Active":"Inactive"})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(l.J,{className:"text-sm font-medium",children:"Metadata Preview"}),(0,e.jsx)("div",{className:"mt-2 p-3 bg-muted/50 rounded-md",children:((a,b)=>{if(!a)return(0,e.jsx)("span",{className:"text-muted-foreground text-sm",children:"No metadata"});switch(b){case"hero":return(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("strong",{children:"Headline:"})," ",a.headline||"Not set"]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("strong",{children:"Subheadline:"})," ",a.subheadline||"Not set"]})]}),a.stats&&(0,e.jsx)("div",{className:"flex gap-2",children:Object.entries(a.stats).map(([a,b])=>(0,e.jsxs)(q.E,{variant:"secondary",className:"text-xs",children:[a,": ",String(b)]},a))})]});case"about":return(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{className:"text-sm",children:[(0,e.jsx)("strong",{children:"About Copy:"})," ",a.aboutCopy||"Not set"]}),a.skills&&(0,e.jsx)("div",{className:"flex flex-wrap gap-1",children:a.skills.map((a,b)=>(0,e.jsxs)(q.E,{variant:"outline",className:"text-xs",children:[a.name," (",a.level,"%)"]},b))})]});case"services":return(0,e.jsx)("div",{className:"space-y-2",children:a.services&&a.services.map((a,b)=>(0,e.jsxs)("div",{className:"text-sm border-l-2 border-primary pl-2",children:[(0,e.jsx)("strong",{children:a.title}),(0,e.jsx)("div",{className:"text-muted-foreground",children:a.description})]},b))});case"settings":return(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{className:"text-sm",children:[(0,e.jsx)("strong",{children:"Brand:"})," ",a.brandName||"Not set"]}),a.links&&(0,e.jsx)("div",{className:"grid grid-cols-2 gap-1 text-xs",children:Object.entries(a.links).map(([a,b])=>(0,e.jsxs)("div",{children:[(0,e.jsxs)("strong",{children:[a,":"]})," ",String(b).substring(0,30),"..."]},a))})]});default:return(0,e.jsxs)("div",{className:"text-xs text-muted-foreground max-w-xs truncate",children:[JSON.stringify(a).substring(0,100),"..."]})}})(a.metadata,a.section_type)})]})]})})]},a.id))}),t&&(0,e.jsx)(B,{section:{section_type:"",title:"",subtitle:"",content:"",image_url:"",is_active:!0,sort_order:0},onSave:z,onCancel:()=>u(!1)}),r&&(0,e.jsx)(B,{section:r,onSave:z,onCancel:()=>s(null)})]})}[h,i,j,k,l,m,n,q]=r.then?(await r)():r,d()}catch(a){d(a)}})},9812:a=>{a.exports=import("@radix-ui/react-switch")}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[616,857,37,478],()=>b(b.s=9449));module.exports=c})();